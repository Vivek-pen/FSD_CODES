<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cart with Login</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="text-center p-4">
  <h3>üõçÔ∏è Shopping Cart</h3>

  <!-- Registration -->
  <div id="register">
    <h5>Register</h5>
    <input id="rUser" class="form-control mb-2" placeholder="Username">
    <input id="rPass" type="password" class="form-control mb-2" placeholder="Password">
    <button class="btn btn-success btn-sm" onclick="register()">Register</button>
  </div>

  <!-- Login -->
  <div id="login" class="mt-3" style="display:none;">
    <h5>Login</h5>
    <input id="lUser" class="form-control mb-2" placeholder="Username">
    <input id="lPass" type="password" class="form-control mb-2" placeholder="Password">
    <button class="btn btn-primary btn-sm" onclick="login()">Login</button>
  </div>

  <!-- Cart -->
  <div id="cartPage" style="display:none;">
    <hr>
    <h5>Welcome <span id="user"></span>!</h5>
    <div class="d-flex justify-content-center flex-wrap">
      <div class="card m-2" style="width:150px;">
        <div class="card-body">
          <h6>Apple</h6><p>‚Çπ30</p>
          <button class="btn btn-sm btn-outline-primary" onclick="add('Apple',30)">Add</button>
        </div>
      </div>
      <div class="card m-2" style="width:150px;">
        <div class="card-body">
          <h6>Banana</h6><p>‚Çπ10</p>
          <button class="btn btn-sm btn-outline-primary" onclick="add('Banana',10)">Add</button>
        </div>
      </div>
    </div>
    <p>Total: ‚Çπ<span id="total">0</span></p>
    <ul id="items" class="list-group mx-auto" style="max-width:200px;"></ul>
  </div>

  <script>
    let user="", pass="", total=0;
    function register(){
      user=document.getElementById("rUser").value;
      pass=document.getElementById("rPass").value;
      if(user && pass){
        alert("Registered!");
        document.getElementById("register").style.display="none";
        document.getElementById("login").style.display="block";
      }
    }
    function login(){
      if(document.getElementById("lUser").value===user && 
         document.getElementById("lPass").value===pass){
        document.getElementById("login").style.display="none";
        document.getElementById("cartPage").style.display="block";
        document.getElementById("user").textContent=user;
      } else alert("Wrong credentials!");
    }
    function add(name,price){
      total+=price;
      document.getElementById("total").textContent=total;
      const li=document.createElement("li");
      li.className="list-group-item";
      li.textContent=`${name} - ‚Çπ${price}`;
      document.getElementById("items").appendChild(li);
    }
  </script>
</body>
</html>
